/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Aodix Core Gui (Mouse Wheel) Implementation
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include "./aodixcore.h"

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void CAodixCore::gui_mouse_wheel(HWND const hwnd,int const delta)
{
	// get current pattern pointer
	ADX_PATTERN* pp=&project.pattern[user_pat];

	// advance user edit pos
	if(GetKeyState(VK_CONTROL)<0)
		pp->usr_ppp=arg_tool_clipped_assign(pp->usr_ppp+(delta/120),1,project.master_ppqn/4);
	else
		pp->usr_pos=arg_tool_clipped_assign(pp->usr_pos-(delta/120)*edit_get_quantization(),0,MAX_SIGNED_INT);

	// post refresh
	gui_is_dirty=1;
}
