/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Aodix Core Gui (Piano Key) Implementation
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include "./aodixcore.h"

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
unsigned char gui_pc_kbd_layout[87]=
{'Z','S','X','D','C','V','G','B','H','N','J','M','Q','2','W','3','E','R','5','T','6','Y','7','U','I','9','O','0','P'
,'W','S','X','D','C','V','G','B','H','N','J',188,'A','2','Z','3','E','R','5','T','6','Y','7','U','I','9','O','0','P'
,'Y','S','X','D','C','V','G','B','H','N','J','M','Q','2','W','3','E','R','5','T','6','Z','7','U','I','9','O','0','P'};

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void CAodixCore::gui_key_pc_piano(int const keycode,int* pkeyval)
{
	// get kbd layout offset
	int kbd_lay_offset=cfg.keyboard_layout*29;

	// scan piano key
	for(int pk=0;pk<29;pk++)
	{
		if(keycode==gui_pc_kbd_layout[pk+kbd_lay_offset])
			*pkeyval=pk;
	}
}
